<DashboardRoot@FloatLayout>:

    # (valinnainen) koko ruudun tausta
    canvas.before:
        Color:
            rgba: 0, 0, 0, 1
        Rectangle:
            pos: self.pos
            size: self.size

    # 1) Dashboard-sisältö
    BoxLayout:
        orientation: "vertical"
        padding: dp(16)
        spacing: dp(12)
        size_hint: 1, 1

        # Yläpalkki: kello + päivä + debug-nappi
        BoxLayout:
            size_hint_y: None
            height: dp(90)
            spacing: dp(12)

            Label:
                text: root.time_text
                font_size: "52sp"
                halign: "left"
                valign: "middle"
                text_size: self.size

            Label:
                text: root.date_text
                font_size: "22sp"
                halign: "right"
                valign: "middle"
                text_size: self.size

            Button:
                text: "Fullscreen on/off"
                opacity: 1 if root.debug_mode else 0
                disabled: False if root.debug_mode else True
                size_hint_x: None
                width: dp(220)
                on_release: root.toggle_fullscreen()

        # Keskialue: kolme “korttia”
        GridLayout:
            cols: 3
            spacing: dp(12)

            # Sää
            BoxLayout:
                orientation: "vertical"
                padding: dp(14)
                canvas.before:
                    Color:
                        rgba: 0.12, 0.12, 0.12, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [18,]
                Label:
                    text: "Sää"
                    font_size: "22sp"
                    size_hint_y: None
                    height: dp(34)
                    halign: "left"
                    valign: "middle"
                    text_size: self.size
                Label:
                    text: root.weather_text
                    font_size: "18sp"
                    halign: "left"
                    valign: "top"
                    text_size: self.size

            # Kalenteri
            BoxLayout:
                orientation: "vertical"
                padding: dp(14)
                canvas.before:
                    Color:
                        rgba: 0.12, 0.12, 0.12, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [18,]
                Label:
                    text: "Kalenteri"
                    font_size: "22sp"
                    size_hint_y: None
                    height: dp(34)
                    halign: "left"
                    valign: "middle"
                    text_size: self.size
                Label:
                    text: root.calendar_text
                    font_size: "18sp"
                    halign: "left"
                    valign: "top"
                    text_size: self.size

            # Ostoslista
            BoxLayout:
                orientation: "vertical"
                padding: dp(14)
                spacing: dp(10)
                canvas.before:
                    Color:
                        rgba: 0.12, 0.12, 0.12, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [18,]

                Label:
                    text: "Ostoslista"
                    font_size: "22sp"
                    size_hint_y: None
                    height: dp(34)
                    halign: "left"
                    valign: "middle"
                    text_size: self.size

                Label:
                    text: root.shopping_text
                    font_size: "18sp"
                    halign: "left"
                    valign: "top"
                    text_size: self.size

                Button:
                    text: "Lähetä ostoslista"
                    size_hint_y: None
                    height: dp(48)
                    on_release: root.on_send_shopping()

    # 2) Näytönsäästäjä overlay (päällimmäisenä)
    ScreensaverOverlay:
        id: screensaver
        opacity: 0
        disabled: True
        size_hint: 1, 1
        pos: 0, 0


<ScreensaverOverlay@FloatLayout>:
    canvas.before:
        Color:
            rgba: 0, 0, 0, 1
        Rectangle:
            pos: self.pos
            size: self.size

    Label:
        id: bigclock
        text: ""
        font_size: "120sp"
        bold: True
        halign: "center"
        valign: "middle"
        text_size: self.size